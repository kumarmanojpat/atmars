<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.1//EN" "http://struts.apache.org/dtds/struts-2.1.dtd">
<struts>
	<package name="default" extends="json-default">



		<action name="myFollowers" class="org.atmars.action.UserDetailAction"
			method="myFollowers">
			<result name="success">
				followers.jsp
			</result>
		</action>
		<action name="search" class="org.atmars.action.UserDetailAction"
			method="search">
			<result name="success">
				search.jsp
			</result>
		</action>

		<action name="myFollowings" class="org.atmars.action.UserDetailAction"
			method="myFollowings">
			<result name="success">
				following.jsp
			</result>
		</action>


		<!-- publish or forward message -->
		<action name="publish" class="org.atmars.action.SendMessageAction">
			<result name="success" type="json">
				<param name="excludeNullProperties">true</param>
			</result>
		</action>

		<action name="forward" class="org.atmars.action.SendMessageAction">
			<result name="success" type="json">
				<param name="excludeNullProperties">true</param>
			</result>
		</action>

<!-- Message action -->


		<action name="getMyMessages" class="org.atmars.action.GetMessageAction"
			method="execute_getMyMessages">
			<result name="success" type="json">
				<param name="excludeProperties">
					oldest_message_id,
					new_Messages,
					currentNewestMessageId,
					newestMessage_Now
				</param>
				<param name="excludeNullProperties">true</param>
			</result>
			<result name="error">get_my_Message_error.jsp</result>
		</action>
		
		<action name="getOriginalMessages" class="org.atmars.action.GetOriginalMessages">
			<result name="success" type="json">
				<param name="excludeNullProperties">true</param>
			</result>
			<result name="error">get_my_Message_error.jsp</result>
		</action>

		<action name="sendComment" class="org.atmars.action.SendCommentAction">
			<result name="success" type="json">
				<param name="excludeProperties">
					messageId,
					commentString
				</param>
				<param name="excludeNullProperties">true</param>
			</result>
		</action>

		<action name="getComment" class="org.atmars.action.GetCommentAction">
			<result name="success" type="json">
				<param name="excludeProperties">
					messageId,
					cursor
				</param>
				<param name="excludeNullProperties">true</param>
			</result>
		</action>

		<action name="init_weiboQiang" class="org.atmars.action.GetMessageAction"
			method="weiboQiang">
			<result name="success" type="json">
				<param name="excludeProperties">
					oldest_message_id,
					myMessages,
					currentNewestMessageId,
					newestMessage_Now
				</param>
				<param name="excludeNullProperties">true</param>
			</result>
		</action>
		<action name="getNewestMessage" class="org.atmars.action.GetMessageAction"
			method="execute_getNewestMessage">
			<result name="success" type="json">
				<param name="excludeProperties">
					oldest_message_id,
					myMessages,
					new_Messages,
					currentNewestMessageId
				</param>
				<param name="excludeNullProperties">true</param>
			</result>
		</action>



		<!-- get register or login -->

		<action name="start" class="org.atmars.action.UserAction">
			<result name="success">login.jsp</result>
		</action>

		<action name="performRegister" class="org.atmars.action.UserAction"
			method="performRegister">
			<result name="input">input.jsp</result>
			<result name="register_success" type="redirect">login.jsp</result>
		</action>

		<action name="performLogin" class="org.atmars.action.UserAction"
			method="performLogin">
			<result name="login_success" type="redirect">homepage.jsp</result>
			<result name="login_fail">login.jsp</result>
		</action>

		<!-- get google position -->

		<action name="googlePosition" class="org.atmars.action.GooglePosition">
			<result name="success" type="json">
			</result>
		</action>

		<!-- register check -->
		<action name="email_occupied" class="org.atmars.action.RegisterCheckAction"
			method="email_occupied">
			<result name="success" type="json">
				<param name="includeProperties">
					occupied
				</param>
			</result>
		</action>
		<action name="nickname_occupied" class="org.atmars.action.RegisterCheckAction"
			method="nickname_occupied">
			<result name="success" type="json">
				<param name="includeProperties">
					occupied
				</param>
			</result>
		</action>
		<action name="addFollow" class="org.atmars.action.AddFollow">
			<result name="success" type="json">
			</result>
		</action>
	</package>
</struts>
